<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <record id="group_responsable_sav" model="res.groups">
            <field name="name">SAV</field>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
            <field name="category_id" ref="spc_oscar_aziza.module_product_quality_aziza"/>
        </record>

        <record id="group_responsable_product_quality" model="res.groups">
            <field name="name">Responsable</field>
            <field name="implied_ids" eval="[(4, ref('spc_sav_aziza.group_responsable_sav'))]"/>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
            <field name="category_id" ref="spc_oscar_aziza.module_product_quality_aziza"/>
        </record>

        <record id="spc_oscar_aziza.group_admin_oscar" model="res.groups">
            <field name="name">Admin</field>
            <field name="implied_ids" eval="[
                        (4, ref('spc_sav_aziza.group_responsable_sav')),
						(4, ref('spc_sav_aziza.group_responsable_product_quality'))
						]"/>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
            <field name="category_id" ref="spc_oscar_aziza.module_exploitation_aziza"/>
        </record>

        <record id="group_reglement_financier" model="res.groups">
            <field name="name">Suivi du règlement financier</field>
            <field name="category_id" ref="spc_oscar_aziza.module_product_quality_aziza"/>
        </record>

        <record id="group_responsable_hi_tech" model="res.groups">
            <field name="name">Achat Hi-Tech</field>
            <field name="category_id" ref="spc_oscar_aziza.module_product_quality_aziza"/>
        </record>

        <!-- ##################################### RULES ###################################### -->

        <!-- Responsable Magasin -->

        <record id="claim_rule_resp_mg_sav" model="ir.rule">
            <field name="name">Réclamations de Responsable Magasin</field>
            <field name="model_id" ref="model_oscar_sav_claim"/>
            <field name="domain_force">['|',('magasin_id.user_ids', 'child_of', [user.id]),'&amp;',('origin_site_id.user_ids', 'child_of', [user.id]),('is_back','=',True)]</field>
            <field name="groups" eval="[(4,ref('spc_oscar_aziza.group_reponsable_magasin'))]"/>
        </record>

        <!--   Responsable Zone-->

        <record id="claim_rule_resp_zone_sav" model="ir.rule">
            <field name="name">Réclamations de Responsable Zone</field>
            <field name="model_id" ref="model_oscar_sav_claim"/>
            <field name="domain_force">['|',('magasin_id.user_ids', 'child_of', [user.id]),'&amp;',('origin_site_id.user_ids', 'child_of', [user.id]),('is_back','=',True)]</field>
            <field name="groups" eval="[(4,ref('spc_oscar_aziza.group_reponsable_zone'))]"/>
        </record>


        <!-- DRE -->

        <record id="claim_rule_dre_sav" model="ir.rule">
            <field name="name">Réclamations de DRE</field>
            <field name="model_id" ref="model_oscar_sav_claim"/>
            <field name="domain_force">['|',('magasin_id.user_ids', 'child_of', [user.id]),'&amp;',('origin_site_id.user_ids', 'child_of', [user.id]),('is_back','=',True)]</field>
            <field name="groups" eval="[(4,ref('spc_oscar_aziza.group_DRE'))]"/>
        </record>

        <!-- Responsable SAV -->
        <record id="claim_rule_resp_sav" model="ir.rule">
            <field name="name">Réclamations de Responsable SAV</field>
            <field name="model_id" ref="model_oscar_sav_claim"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4,ref('spc_sav_aziza.group_responsable_sav'))]"/>
        </record>

        <!-- Reglement_financier -->
        <record id="claim_rule_group_reglement_financier" model="ir.rule">
            <field name="name">Réclamations de règlement financier</field>
            <field name="model_id" ref="model_oscar_sav_claim"/>
            <field name="domain_force">[('is_back', '=', True)]</field>
            <field name="groups" eval="[(4,ref('spc_sav_aziza.group_reglement_financier'))]"/>
        </record>


    </data>
</odoo>