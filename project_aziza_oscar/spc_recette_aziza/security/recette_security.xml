<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data noupdate="0">



		<record id="group_agent_reception_oscar" model="res.groups">
			<field name="name">Agent de r√©ception</field>
			<field name="users" eval="[(4, ref('base.user_root'))]" />
			<field name="category_id" ref="spc_oscar_aziza.module_exploitation_aziza" />
		</record>

		<record id="group_agent_validation_oscar" model="res.groups">
			<field name="name">Agent de validation</field>
			<field name="users" eval="[(4, ref('base.user_root'))]" />
			<field name="category_id" ref="spc_oscar_aziza.module_finance_aziza" />
		</record>

		<record id="group_agent_validation_ticket_resto_oscar" model="res.groups">
			<field name="name">Agent de validation (TR &amp; CC)</field>
			<field name="users" eval="[(4, ref('base.user_root'))]" />
			<field name="category_id" ref="spc_oscar_aziza.module_finance_aziza" />
		</record>

		<record id="group_responsable_financier_oscar" model="res.groups">
			<field name="name">Responsable financier</field>
			<field name="users" eval="[(4, ref('base.user_root'))]" />
			<field name="category_id" ref="spc_oscar_aziza.module_finance_aziza" />
		</record>

		<record id="group_consulting_oscar" model="res.groups">
			<field name="name">Consultation</field>
			<field name="users" eval="[(4, ref('base.user_root'))]" />
			<field name="category_id" ref="spc_oscar_aziza.module_exploitation_aziza" />
		</record>

		<record id="spc_oscar_aziza.group_bo_oscar" model="res.groups">
            <field name="name">BackOffice</field>
            <field name="implied_ids" eval="[(4, ref('spc_recette_aziza.group_consulting_oscar'))]"/>
        	 <field name="category_id" ref="spc_oscar_aziza.module_exploitation_aziza"/>
        </record>

		<record id="spc_oscar_aziza.group_admin_oscar" model="res.groups">
			<field name="name">Admin</field>
			<field name="implied_ids" eval="[
                        (4, ref('spc_recette_aziza.group_agent_reception_oscar')),
						(4, ref('spc_recette_aziza.group_agent_validation_ticket_resto_oscar')),
						(4, ref('spc_recette_aziza.group_agent_validation_oscar')),
						(4, ref('spc_recette_aziza.group_responsable_financier_oscar')),
						(4, ref('spc_recette_aziza.group_consulting_oscar'))
						]"/>
			<field name="users" eval="[(4, ref('base.user_root'))]" />
			<field name="category_id" ref="spc_oscar_aziza.module_exploitation_aziza" />
		</record>

		<!-- ##################################### RULES ###################################### -->

		<!-- Admin -->

		<record id="versement_rule_admin_oscar" model="ir.rule">
			<field name="name">Versements d'Admin Oscar</field>
			<field name="model_id" ref="model_oscar_versement" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups" eval="[(4,ref('spc_oscar_aziza.group_admin_oscar'))]" />
		</record>


		<record id="journee_rule_admin_oscar" model="ir.rule">
			<field name="name">Journees d'Admin Oscar</field>
			<field name="model_id" ref="model_oscar_journee" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups" eval="[(4,ref('spc_oscar_aziza.group_admin_oscar'))]" />
		</record>

		<record id="journee_recue_rule_admin_oscar" model="ir.rule">
			<field name="name">Journees recues d'Admin Oscar</field>
			<field name="model_id" ref="model_oscar_journee_recue" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups" eval="[(4,ref('spc_oscar_aziza.group_admin_oscar'))]" />
		</record>
		
		<record id="oscar_journee_report_rule_admin_oscar" model="ir.rule">
	        <field name="name">Journee Repporting d'Admin</field>
	        <field name="model_id" ref="model_oscar_journee_report"/>
	        <field name="domain_force">[(1,'=',1)]</field>
	        <field name="groups" eval="[(4,ref('spc_oscar_aziza.group_reponsable_zone'))]"/>
	    </record> 


		<!-- Responsable Magasin -->

		<record id="versement_rule_resp_mg" model="ir.rule">
			<field name="name">Versements de Responsable Magasin</field>
			<field name="model_id" ref="model_oscar_versement" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="perm_write" eval="False" />
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_reponsable_magasin'))]" />
		</record>


		<record id="journee_rule_resp_mg" model="ir.rule">
			<field name="name">Journees de Responsable Magasin</field>
			<field name="model_id" ref="model_oscar_journee" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_reponsable_magasin'))]" />
		</record>

		<record id="ecart_rule_resp_mg" model="ir.rule">
			<field name="name">Ecarts de Responsable Magasin</field>
			<field name="model_id" ref="model_oscar_ecart" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="groups" eval="[(4,ref('spc_oscar_aziza.group_reponsable_magasin'))]" />
		</record>
 
		<!-- Responsable Zone -->

		<record id="versement_rule_resp_zone" model="ir.rule">
			<field name="name">Versements de Responsable Zone</field>
			<field name="model_id" ref="model_oscar_versement" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="perm_write" eval="False" />
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_reponsable_zone'))]" />
		</record>

		<record id="journee_rule_resp_zone" model="ir.rule">
			<field name="name">Journees de Responsable Zone</field>
			<field name="model_id" ref="model_oscar_journee" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_reponsable_zone'))]" />
		</record>

		<record id="ecart_rule_resp_zone" model="ir.rule">
			<field name="name">Ecarts de Responsable Zone</field>
			<field name="model_id" ref="model_oscar_ecart" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_reponsable_zone'))]" />
		</record>
		
		<record id="oscar_journee_report_rule_resp_zone" model="ir.rule">
	        <field name="name">Journee Repporting de Responsable Zone</field>
	        <field name="model_id" ref="model_oscar_journee_report"/>
	        <field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
	        <field name="groups" eval="[(4,ref('spc_oscar_aziza.group_reponsable_zone'))]"/>
	    </record>

		<!-- DRE -->

		<record id="versement_rule_dre" model="ir.rule">
			<field name="name">Versements de DRE</field>
			<field name="model_id" ref="model_oscar_versement" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="perm_write" eval="False" />
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_DRE'))]" />
		</record>

		<record id="journee_rule_dre" model="ir.rule">
			<field name="name">Journees de DRE</field>
			<field name="model_id" ref="model_oscar_journee" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_DRE'))]" />
		</record>

		<record id="ecart_rule_dre" model="ir.rule">
			<field name="name">Ecarts de DRE</field>
			<field name="model_id" ref="model_oscar_ecart" />
			<field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_DRE'))]" />
		</record>

		<record id="oscar_journee_report_rule_dre" model="ir.rule">
	        <field name="name">Journee Repporting de DRE</field>
	        <field name="model_id" ref="model_oscar_journee_report"/>
	        <field name="domain_force">[('magasin_id.user_ids', 'child_of', [user.id])]</field>
	        <field name="groups" eval="[(4,ref('spc_oscar_aziza.group_DRE'))]"/>
	    </record>

		<!-- Agent de reception -->

		<record id="bordereau_rule_agent_reception" model="ir.rule">
			<field name="name">Bordereaux: Agent de reception</field>
			<field name="model_id" ref="spc_transfer_aziza.model_oscar_bordereau" />
			<field name="domain_force">['|',('source_id.user_ids','child_of', [user.id]),('destinataire_id.user_ids','child_of', [user.id])]</field>
			<field name="groups" eval="[(4,ref('spc_recette_aziza.group_agent_reception_oscar'))]"/>
		</record>

		<record id="envelope_rule_agent_reception" model="ir.rule">
			<field name="name">Enveloppe: Agent de reception</field>
			<field name="model_id" ref="spc_transfer_aziza.model_oscar_envelope" />
			<field name="domain_force">['|',('source_id.user_ids','child_of', [user.id]),('destinataire_id.user_ids','child_of', [user.id])]</field>
			<field name="groups" eval="[(4,ref('spc_recette_aziza.group_agent_reception_oscar'))]"/>
		</record>

		<!-- Agent de Validation -->

		<record id="journee_rule_agent_val" model="ir.rule">
			<field name="name">Journee d'Agent de Validation</field>
			<field name="model_id" ref="model_oscar_journee_recue" />
			<field name="domain_force">[('controller_id', '=', user.id),('state', 'in',
				['waiting','accepted', 'waiting2', 'checked'])]</field>
			<field name="groups"
				eval="[(4,ref('spc_recette_aziza.group_agent_validation_oscar'))]" />
		</record>

		<record id="litige_rule_agent_val" model="ir.rule">
			<field name="name">Litige d'Agent de Validation</field>
			<field name="model_id" ref="model_oscar_litige_line" />
			<field name="domain_force">['|',('motif', '=', 'vr1'),('motif', '=', 'ibs')]
			</field>
			<field name="groups"
				eval="[(4,ref('spc_recette_aziza.group_agent_validation_oscar'))]" />
		</record> 

		<!-- Agent de Validation TR -->

		<record id="journee_rule_agent_val_tr" model="ir.rule">
			<field name="name">Journee d'Agent de Validation TR</field>
			<field name="model_id" ref="model_oscar_journee_recue" />
			<field name="domain_force">[('controller_tr_id', '=', user.id),('state', 'in',
				['waiting2', 'accepted1', 'waiting1', 'checked'])]</field>
			<field name="groups"
				eval="[(4,ref('spc_recette_aziza.group_agent_validation_ticket_resto_oscar'))]" />
		</record>

	    <record id="litige_rule_agent_val_tr" model="ir.rule">
			<field name="name">Litige d'Agent de Validation TR</field>
			<field name="model_id" ref="model_oscar_litige_line" />
			<field name="domain_force">[('motif', '=', 'vr2')]</field>
			<field name="groups" eval="[(4,ref('spc_recette_aziza.group_agent_validation_ticket_resto_oscar'))]" />
		</record>

		<!-- Responsable Financier -->

		<record id="journee_rule_resp_fn" model="ir.rule">
			<field name="name">Journee de Responsable Financier</field>
			<field name="model_id" ref="model_oscar_journee_recue" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups"
				eval="[(4,ref('spc_recette_aziza.group_responsable_financier_oscar'))]" />
		</record>

		<record id="ecart_rule_resp_fn_oscar" model="ir.rule">
			<field name="name">Ecarts de Responsable Financier</field>
			<field name="model_id" ref="model_oscar_ecart" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups"
				eval="[(4,ref('spc_recette_aziza.group_responsable_financier_oscar'))]" />
		</record>

		<!-- DE -->

		<record id="journee_rule_group_de" model="ir.rule">
			<field name="name">Journee : DE</field>
			<field name="model_id" ref="model_oscar_journee" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_DE'))]" />
		</record>

		<record id="journee_recue_rule_group_de" model="ir.rule">
			<field name="name">Journee siege : DE</field>
			<field name="model_id" ref="model_oscar_journee_recue" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_DE'))]" />
		</record>

		<record id="ecart_rule_group_de" model="ir.rule">
			<field name="name">Litiges : DE</field>
			<field name="model_id" ref="model_oscar_ecart" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups"
				eval="[(4,ref('spc_oscar_aziza.group_DE'))]" />
		</record>

	</data>
</odoo>